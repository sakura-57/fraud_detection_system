
    <!DOCTYPE html>
    <html>
    <head>
        <title>SHAP Force Plot - Fraud Detection</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                background-color: #f5f5f5;
            }
            .container {
                background: white;
                padding: 30px;
                border-radius: 10px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
            h1 {
                color: #333;
                border-bottom: 2px solid #4CAF50;
                padding-bottom: 10px;
            }
            .info {
                background: #e8f5e9;
                padding: 15px;
                border-radius: 5px;
                margin: 20px 0;
            }
            .plot-container {
                margin: 30px 0;
                border: 1px solid #ddd;
                border-radius: 5px;
                overflow: auto;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>üéØ SHAP Force Plot - Fraud Detection Model</h1>

            <div class="info">
                <h3>üìä Prediction Information:</h3>
                <p><strong>Fraud Probability:</strong> 0.9640</p>
                <p><strong>Risk Level:</strong> High Risk</p>
                <p><strong>Top Contributing Feature:</strong> C5</p>
                <p><strong>Base Value (Expected):</strong> -2.4762</p>
            </div>

            <h3>üìà Interactive Force Plot</h3>
            <p>This visualization shows how each feature contributes to the final prediction. Features in red increase fraud probability, while features in blue decrease it.</p>

            <div class="plot-container">
                
<div id='iRTPXT4R5U55IFAPOQG48'>
<div style='color: #900; text-align: center;'>
  <b>Visualization omitted, Javascript library not loaded!</b><br>
  Have you run `initjs()` in this notebook? If this notebook was from another
  user you must also trust this notebook (File -> Trust notebook). If you are viewing
  this notebook on github the Javascript has been stripped for security. If you are using
  JupyterLab this error is because a JupyterLab extension has not yet been written.
</div></div>
 <script>
   if (window.SHAP) SHAP.ReactDom.render(
    SHAP.React.createElement(SHAP.AdditiveForceVisualizer, {"outNames": ["f(x)"], "baseValue": -2.4762167838872378, "outValue": 3.2883315086364746, "link": "identity", "featureNames": ["TransactionAmt", "TransactionAmt_log", "C1", "C2", "C3", "C4", "C5", "C6", "C7", "C8", "C9", "C10", "C11", "C12", "C13", "C14", "D1", "D2", "D3", "D4", "D5", "D6", "D7", "D8", "D9", "D10", "D11", "D12", "D13", "D14", "D15", "Transaction_hour_sin", "Transaction_hour_cos", "is_weekend", "card1_amount_interaction", "email_match", "card1_transaction_count", "card1_velocity", "ProductCD_C", "ProductCD_H", "ProductCD_R", "ProductCD_S", "ProductCD_W", "card4_american express", "card4_discover", "card4_mastercard", "card4_visa", "card4_None", "card6_charge card", "card6_credit", "card6_debit", "card6_debit or credit", "card6_None", "P_emaildomain_aim.com", "P_emaildomain_anonymous.com", "P_emaildomain_aol.com", "P_emaildomain_att.net", "P_emaildomain_bellsouth.net", "P_emaildomain_cableone.net", "P_emaildomain_centurylink.net", "P_emaildomain_cfl.rr.com", "P_emaildomain_charter.net", "P_emaildomain_comcast.net", "P_emaildomain_cox.net", "P_emaildomain_earthlink.net", "P_emaildomain_embarqmail.com", "P_emaildomain_frontier.com", "P_emaildomain_frontiernet.net", "P_emaildomain_gmail", "P_emaildomain_gmail.com", "P_emaildomain_gmx.de", "P_emaildomain_hotmail.co.uk", "P_emaildomain_hotmail.com", "P_emaildomain_hotmail.de", "P_emaildomain_hotmail.es", "P_emaildomain_hotmail.fr", "P_emaildomain_icloud.com", "P_emaildomain_juno.com", "P_emaildomain_live.com", "P_emaildomain_live.com.mx", "P_emaildomain_live.fr", "P_emaildomain_mac.com", "P_emaildomain_mail.com", "P_emaildomain_me.com", "P_emaildomain_msn.com", "P_emaildomain_netzero.com", "P_emaildomain_netzero.net", "P_emaildomain_optonline.net", "P_emaildomain_outlook.com", "P_emaildomain_outlook.es", "P_emaildomain_prodigy.net.mx", "P_emaildomain_protonmail.com", "P_emaildomain_ptd.net", "P_emaildomain_q.com", "P_emaildomain_roadrunner.com", "P_emaildomain_rocketmail.com", "P_emaildomain_sbcglobal.net", "P_emaildomain_sc.rr.com", "P_emaildomain_servicios-ta.com", "P_emaildomain_suddenlink.net", "P_emaildomain_twc.com", "P_emaildomain_verizon.net", "P_emaildomain_web.de", "P_emaildomain_windstream.net", "P_emaildomain_yahoo.co.jp", "P_emaildomain_yahoo.co.uk", "P_emaildomain_yahoo.com", "P_emaildomain_yahoo.com.mx", "P_emaildomain_yahoo.de", "P_emaildomain_yahoo.es", "P_emaildomain_yahoo.fr", "P_emaildomain_ymail.com", "P_emaildomain_None", "R_emaildomain_aim.com", "R_emaildomain_anonymous.com", "R_emaildomain_aol.com", "R_emaildomain_att.net", "R_emaildomain_bellsouth.net", "R_emaildomain_cableone.net", "R_emaildomain_centurylink.net", "R_emaildomain_cfl.rr.com", "R_emaildomain_charter.net", "R_emaildomain_comcast.net", "R_emaildomain_cox.net", "R_emaildomain_earthlink.net", "R_emaildomain_embarqmail.com", "R_emaildomain_frontier.com", "R_emaildomain_frontiernet.net", "R_emaildomain_gmail", "R_emaildomain_gmail.com", "R_emaildomain_gmx.de", "R_emaildomain_hotmail.co.uk", "R_emaildomain_hotmail.com", "R_emaildomain_hotmail.de", "R_emaildomain_hotmail.es", "R_emaildomain_hotmail.fr", "R_emaildomain_icloud.com", "R_emaildomain_juno.com", "R_emaildomain_live.com", "R_emaildomain_live.com.mx", "R_emaildomain_live.fr", "R_emaildomain_mac.com", "R_emaildomain_mail.com", "R_emaildomain_me.com", "R_emaildomain_msn.com", "R_emaildomain_netzero.com", "R_emaildomain_netzero.net", "R_emaildomain_optonline.net", "R_emaildomain_outlook.com", "R_emaildomain_outlook.es", "R_emaildomain_prodigy.net.mx", "R_emaildomain_protonmail.com", "R_emaildomain_ptd.net", "R_emaildomain_q.com", "R_emaildomain_roadrunner.com", "R_emaildomain_rocketmail.com", "R_emaildomain_sbcglobal.net", "R_emaildomain_sc.rr.com", "R_emaildomain_scranton.edu", "R_emaildomain_servicios-ta.com", "R_emaildomain_suddenlink.net", "R_emaildomain_twc.com", "R_emaildomain_verizon.net", "R_emaildomain_web.de", "R_emaildomain_windstream.net", "R_emaildomain_yahoo.co.jp", "R_emaildomain_yahoo.co.uk", "R_emaildomain_yahoo.com", "R_emaildomain_yahoo.com.mx", "R_emaildomain_yahoo.de", "R_emaildomain_yahoo.es", "R_emaildomain_yahoo.fr", "R_emaildomain_ymail.com", "R_emaildomain_None", "DeviceType_desktop", "DeviceType_mobile", "DeviceType_None", "M1_F", "M1_T", "M1_None", "M2_F", "M2_T", "M2_None", "M3_F", "M3_T", "M3_None", "M4_M0", "M4_M1", "M4_M2", "M4_None", "M5_F", "M5_T", "M5_None", "M6_F", "M6_T", "M6_None", "M7_F", "M7_T", "M7_None", "M8_F", "M8_T", "M8_None", "M9_F", "M9_T", "M9_None"], "features": {"0": {"effect": 0.4088509199609256, "value": 0.37257232406511487}, "2": {"effect": 1.6535066023442537, "value": -0.05311772270594834}, "3": {"effect": 0.7339523751226187, "value": -0.06007454265457086}, "6": {"effect": 0.42318200517538285, "value": -0.21580279741712344}, "12": {"effect": 0.5242062425270788, "value": -0.05556871638798955}, "14": {"effect": 0.60900272549214, "value": -0.25186904762609824}, "15": {"effect": 0.5139375240589211, "value": -0.16789255432719216}, "16": {"effect": 0.312613249542494, "value": -0.5975344072622613}, "18": {"effect": 0.2359297720690634, "value": -0.23716061906030966}, "23": {"effect": 0.349366876230834, "value": -0.5612977402105476}}, "plot_cmap": "RdBu", "labelMargin": 20}),
    document.getElementById('iRTPXT4R5U55IFAPOQG48')
  );
</script>
            </div>

            <h3>üîç How to Interpret:</h3>
            <ul>
                <li><strong>Red bars</strong>: Features pushing prediction toward FRAUD</li>
                <li><strong>Blue bars</strong>: Features pushing prediction toward LEGITIMATE</li>
                <li><strong>Bar length</strong>: Magnitude of contribution</li>
                <li><strong>Base value</strong>: Average prediction without any features</li>
                <li><strong>f(x)</strong>: Final prediction for this specific transaction</li>
            </ul>
        </div>
    </body>
    </html>
    